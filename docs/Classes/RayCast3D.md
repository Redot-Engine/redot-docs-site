<!-- github_url: hide -->

<!-- DO NOT EDIT THIS FILE!!! -->
<!-- Generated automatically from Redot engine sources. -->
<!-- Generator: https://github.com/Redot-Engine/redot-engine/tree/master/doc/tools/make_md.py. -->
<!-- XML source: https://github.com/Redot-Engine/redot-engine/tree/master/doc/classes/RayCast3D.xml. -->

<a id="RayCast3D"></a>

# RayCast3D

**Inherits:** [Node3D](Node3D.md) **\<** [Node](Node.md) **\<** [Object](Object.md)

A ray in 3D space, used to find the first collision object it intersects.

<!-- classref-introduction-group -->

## Description

A raycast represents a ray from its origin to its [target_position](RayCast3D.md#RayCast3D_property_target_position) that finds the closest object along its path, if it intersects any.

\ **RayCast3D** can ignore some objects by adding them to an exception list, by making its detection reporting ignore [Area3D](Area3D.md)\\ s ([collide_with_areas](RayCast3D.md#RayCast3D_property_collide_with_areas)) or [PhysicsBody3D](PhysicsBody3D.md)\\ s ([collide_with_bodies](RayCast3D.md#RayCast3D_property_collide_with_bodies)), or by configuring physics layers.

\ **RayCast3D** calculates intersection every physics frame, and it holds the result until the next physics frame. For an immediate raycast, or if you want to configure a **RayCast3D** multiple times within the same physics frame, use [force_raycast_update()](RayCast3D.md#RayCast3D_method_force_raycast_update).

To sweep over a region of 3D space, you can approximate the region with multiple **RayCast3D**\\ s or use [ShapeCast3D](ShapeCast3D.md).

<!-- classref-introduction-group -->

## Tutorials

- [Ray-casting](../tutorials/physics/ray-casting.md)

- [3D Voxel Demo](https://godotengine.org/asset-library/asset/2755)

<!-- classref-reftable-group -->

## Properties

<table>
  <thead>
    <tr>
      <th>[bool](bool.md)</th>
      <th>[collide_with_areas](#RayCast3D_property_collide_with_areas)</th>
      <th>`false`</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>[bool](bool.md)</td>
      <td>[collide_with_bodies](#RayCast3D_property_collide_with_bodies)</td>
      <td>`true`</td>
    </tr>
    <tr>
      <td>[int](int.md)</td>
      <td>[collision_mask](#RayCast3D_property_collision_mask)</td>
      <td>`1`</td>
    </tr>
    <tr>
      <td>[Color](Color.md)</td>
      <td>[debug_shape_custom_color](#RayCast3D_property_debug_shape_custom_color)</td>
      <td>`Color(0, 0, 0, 1)`</td>
    </tr>
    <tr>
      <td>[int](int.md)</td>
      <td>[debug_shape_thickness](#RayCast3D_property_debug_shape_thickness)</td>
      <td>`2`</td>
    </tr>
    <tr>
      <td>[bool](bool.md)</td>
      <td>[enabled](#RayCast3D_property_enabled)</td>
      <td>`true`</td>
    </tr>
    <tr>
      <td>[bool](bool.md)</td>
      <td>[exclude_parent](#RayCast3D_property_exclude_parent)</td>
      <td>`true`</td>
    </tr>
    <tr>
      <td>[bool](bool.md)</td>
      <td>[hit_back_faces](#RayCast3D_property_hit_back_faces)</td>
      <td>`true`</td>
    </tr>
    <tr>
      <td>[bool](bool.md)</td>
      <td>[hit_from_inside](#RayCast3D_property_hit_from_inside)</td>
      <td>`false`</td>
    </tr>
    <tr>
      <td>[Vector3](Vector3.md)</td>
      <td>[target_position](#RayCast3D_property_target_position)</td>
      <td>`Vector3(0, -1, 0)`</td>
    </tr>
  </tbody>
</table>

<!-- classref-reftable-group -->

## Methods

<table>
  <thead>
    <tr>
      <th>`void`</th>
      <th>[add_exception](#RayCast3D_method_add_exception)\ (\ node\: [CollisionObject3D](CollisionObject3D.md)\ )</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>`void`</td>
      <td>[add_exception_rid](#RayCast3D_method_add_exception_rid)\ (\ rid\: [RID](RID.md)\ )</td>
    </tr>
    <tr>
      <td>`void`</td>
      <td>[clear_exceptions](#RayCast3D_method_clear_exceptions)\ (\ )</td>
    </tr>
    <tr>
      <td>`void`</td>
      <td>[force_raycast_update](#RayCast3D_method_force_raycast_update)\ (\ )</td>
    </tr>
    <tr>
      <td>[Object](Object.md)</td>
      <td>[get_collider](#RayCast3D_method_get_collider)\ (\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[RID](RID.md)</td>
      <td>[get_collider_rid](#RayCast3D_method_get_collider_rid)\ (\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[int](int.md)</td>
      <td>[get_collider_shape](#RayCast3D_method_get_collider_shape)\ (\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[int](int.md)</td>
      <td>[get_collision_face_index](#RayCast3D_method_get_collision_face_index)\ (\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[bool](bool.md)</td>
      <td>[get_collision_mask_value](#RayCast3D_method_get_collision_mask_value)\ (\ layer_number\: [int](int.md)\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[Vector3](Vector3.md)</td>
      <td>[get_collision_normal](#RayCast3D_method_get_collision_normal)\ (\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[Vector3](Vector3.md)</td>
      <td>[get_collision_point](#RayCast3D_method_get_collision_point)\ (\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[bool](bool.md)</td>
      <td>[is_colliding](#RayCast3D_method_is_colliding)\ (\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>`void`</td>
      <td>[remove_exception](#RayCast3D_method_remove_exception)\ (\ node\: [CollisionObject3D](CollisionObject3D.md)\ )</td>
    </tr>
    <tr>
      <td>`void`</td>
      <td>[remove_exception_rid](#RayCast3D_method_remove_exception_rid)\ (\ rid\: [RID](RID.md)\ )</td>
    </tr>
    <tr>
      <td>`void`</td>
      <td>[set_collision_mask_value](#RayCast3D_method_set_collision_mask_value)\ (\ layer_number\: [int](int.md), value\: [bool](bool.md)\ )</td>
    </tr>
  </tbody>
</table>

<hr class="classref-section-separator"/>

<!-- classref-descriptions-group -->

## Property Descriptions

<a id="RayCast3D_property_collide_with_areas"></a>

<!-- classref-property -->

[bool](bool.md) **collide_with_areas** = `false` [ðŸ”—](#RayCast3D_property_collide_with_areas)

<!-- classref-property-setget -->

- `void` **set_collide_with_areas**\ (\ value\: [bool](bool.md)\ )
- [bool](bool.md) **is_collide_with_areas_enabled**\ (\ )

If ``true``, collisions with [Area3D](Area3D.md)\\ s will be reported.

<hr class="classref-item-separator"/>

<a id="RayCast3D_property_collide_with_bodies"></a>

<!-- classref-property -->

[bool](bool.md) **collide_with_bodies** = `true` [ðŸ”—](#RayCast3D_property_collide_with_bodies)

<!-- classref-property-setget -->

- `void` **set_collide_with_bodies**\ (\ value\: [bool](bool.md)\ )
- [bool](bool.md) **is_collide_with_bodies_enabled**\ (\ )

If ``true``, collisions with [PhysicsBody3D](PhysicsBody3D.md)\\ s will be reported.

<hr class="classref-item-separator"/>

<a id="RayCast3D_property_collision_mask"></a>

<!-- classref-property -->

[int](int.md) **collision_mask** = `1` [ðŸ”—](#RayCast3D_property_collision_mask)

<!-- classref-property-setget -->

- `void` **set_collision_mask**\ (\ value\: [int](int.md)\ )
- [int](int.md) **get_collision_mask**\ (\ )

The ray's collision mask. Only objects in at least one collision layer enabled in the mask will be detected. See [Collision layers and masks](../tutorials/physics/physics_introduction.md#collision-layers-and-masks) in the documentation for more information.

<hr class="classref-item-separator"/>

<a id="RayCast3D_property_debug_shape_custom_color"></a>

<!-- classref-property -->

[Color](Color.md) **debug_shape_custom_color** = `Color(0, 0, 0, 1)` [ðŸ”—](#RayCast3D_property_debug_shape_custom_color)

<!-- classref-property-setget -->

- `void` **set_debug_shape_custom_color**\ (\ value\: [Color](Color.md)\ )
- [Color](Color.md) **get_debug_shape_custom_color**\ (\ )

The custom color to use to draw the shape in the editor and at run-time if **Visible Collision Shapes** is enabled in the **Debug** menu. This color will be highlighted at run-time if the **RayCast3D** is colliding with something.

If set to ``Color(0.0, 0.0, 0.0)`` (by default), the color set in [ProjectSettings.debug/shapes/collision/shape_color](ProjectSettings.md#ProjectSettings_property_debug/shapes/collision/shape_color) is used.

<hr class="classref-item-separator"/>

<a id="RayCast3D_property_debug_shape_thickness"></a>

<!-- classref-property -->

[int](int.md) **debug_shape_thickness** = `2` [ðŸ”—](#RayCast3D_property_debug_shape_thickness)

<!-- classref-property-setget -->

- `void` **set_debug_shape_thickness**\ (\ value\: [int](int.md)\ )
- [int](int.md) **get_debug_shape_thickness**\ (\ )

If set to ``1``, a line is used as the debug shape. Otherwise, a truncated pyramid is drawn to represent the **RayCast3D**. Requires **Visible Collision Shapes** to be enabled in the **Debug** menu for the debug shape to be visible at run-time.

<hr class="classref-item-separator"/>

<a id="RayCast3D_property_enabled"></a>

<!-- classref-property -->

[bool](bool.md) **enabled** = `true` [ðŸ”—](#RayCast3D_property_enabled)

<!-- classref-property-setget -->

- `void` **set_enabled**\ (\ value\: [bool](bool.md)\ )
- [bool](bool.md) **is_enabled**\ (\ )

If ``true``, collisions will be reported.

<hr class="classref-item-separator"/>

<a id="RayCast3D_property_exclude_parent"></a>

<!-- classref-property -->

[bool](bool.md) **exclude_parent** = `true` [ðŸ”—](#RayCast3D_property_exclude_parent)

<!-- classref-property-setget -->

- `void` **set_exclude_parent_body**\ (\ value\: [bool](bool.md)\ )
- [bool](bool.md) **get_exclude_parent_body**\ (\ )

If ``true``, this raycast will not report collisions with its parent node. This property only has an effect if the parent node is a [CollisionObject3D](CollisionObject3D.md). See also [Node.get_parent()](Node.md#Node_method_get_parent) and [add_exception()](RayCast3D.md#RayCast3D_method_add_exception).

<hr class="classref-item-separator"/>

<a id="RayCast3D_property_hit_back_faces"></a>

<!-- classref-property -->

[bool](bool.md) **hit_back_faces** = `true` [ðŸ”—](#RayCast3D_property_hit_back_faces)

<!-- classref-property-setget -->

- `void` **set_hit_back_faces**\ (\ value\: [bool](bool.md)\ )
- [bool](bool.md) **is_hit_back_faces_enabled**\ (\ )

If ``true``, the ray will hit back faces with concave polygon shapes with back face enabled or heightmap shapes.

<hr class="classref-item-separator"/>

<a id="RayCast3D_property_hit_from_inside"></a>

<!-- classref-property -->

[bool](bool.md) **hit_from_inside** = `false` [ðŸ”—](#RayCast3D_property_hit_from_inside)

<!-- classref-property-setget -->

- `void` **set_hit_from_inside**\ (\ value\: [bool](bool.md)\ )
- [bool](bool.md) **is_hit_from_inside_enabled**\ (\ )

If ``true``, the ray will detect a hit when starting inside shapes. In this case the collision normal will be ``Vector3(0, 0, 0)``. Does not affect shapes with no volume like concave polygon or heightmap.

<hr class="classref-item-separator"/>

<a id="RayCast3D_property_target_position"></a>

<!-- classref-property -->

[Vector3](Vector3.md) **target_position** = `Vector3(0, -1, 0)` [ðŸ”—](#RayCast3D_property_target_position)

<!-- classref-property-setget -->

- `void` **set_target_position**\ (\ value\: [Vector3](Vector3.md)\ )
- [Vector3](Vector3.md) **get_target_position**\ (\ )

The ray's destination point, relative to this raycast's [Node3D.position](Node3D.md#Node3D_property_position).

<hr class="classref-section-separator"/>

<!-- classref-descriptions-group -->

## Method Descriptions

<a id="RayCast3D_method_add_exception"></a>

<!-- classref-method -->

`void` **add_exception**\ (\ node\: [CollisionObject3D](CollisionObject3D.md)\ ) [ðŸ”—](#RayCast3D_method_add_exception)

Adds a collision exception so the ray does not report collisions with the specified `node`.

<hr class="classref-item-separator"/>

<a id="RayCast3D_method_add_exception_rid"></a>

<!-- classref-method -->

`void` **add_exception_rid**\ (\ rid\: [RID](RID.md)\ ) [ðŸ”—](#RayCast3D_method_add_exception_rid)

Adds a collision exception so the ray does not report collisions with the specified [RID](RID.md).

<hr class="classref-item-separator"/>

<a id="RayCast3D_method_clear_exceptions"></a>

<!-- classref-method -->

`void` **clear_exceptions**\ (\ ) [ðŸ”—](#RayCast3D_method_clear_exceptions)

Removes all collision exceptions for this ray.

<hr class="classref-item-separator"/>

<a id="RayCast3D_method_force_raycast_update"></a>

<!-- classref-method -->

`void` **force_raycast_update**\ (\ ) [ðŸ”—](#RayCast3D_method_force_raycast_update)

Updates the collision information for the ray immediately, without waiting for the next ``_physics_process`` call. Use this method, for example, when the ray or its parent has changed state.

\ **Note:** [enabled](RayCast3D.md#RayCast3D_property_enabled) does not need to be ``true`` for this to work.

<hr class="classref-item-separator"/>

<a id="RayCast3D_method_get_collider"></a>

<!-- classref-method -->

[Object](Object.md) **get_collider**\ (\ ) <span class="const">const</span> [ðŸ”—](#RayCast3D_method_get_collider)

Returns the first object that the ray intersects, or ``null`` if no object is intersecting the ray (i.e. [is_colliding()](RayCast3D.md#RayCast3D_method_is_colliding) returns ``false``).

\ **Note:** This object is not guaranteed to be a [CollisionObject3D](CollisionObject3D.md). For example, if the ray intersects a [CSGShape3D](CSGShape3D.md) or a [GridMap](GridMap.md), the method will return a [CSGShape3D](CSGShape3D.md) or [GridMap](GridMap.md) instance.

<hr class="classref-item-separator"/>

<a id="RayCast3D_method_get_collider_rid"></a>

<!-- classref-method -->

[RID](RID.md) **get_collider_rid**\ (\ ) <span class="const">const</span> [ðŸ”—](#RayCast3D_method_get_collider_rid)

Returns the [RID](RID.md) of the first object that the ray intersects, or an empty [RID](RID.md) if no object is intersecting the ray (i.e. [is_colliding()](RayCast3D.md#RayCast3D_method_is_colliding) returns ``false``).

<hr class="classref-item-separator"/>

<a id="RayCast3D_method_get_collider_shape"></a>

<!-- classref-method -->

[int](int.md) **get_collider_shape**\ (\ ) <span class="const">const</span> [ðŸ”—](#RayCast3D_method_get_collider_shape)

Returns the shape ID of the first object that the ray intersects, or ``0`` if no object is intersecting the ray (i.e. [is_colliding()](RayCast3D.md#RayCast3D_method_is_colliding) returns ``false``).

To get the intersected shape node, for a [CollisionObject3D](CollisionObject3D.md) target, use:




```gdscript
    var target = get_collider() # A CollisionObject3D.
    var shape_id = get_collider_shape() # The shape index in the collider.
    var owner_id = target.shape_find_owner(shape_id) # The owner ID in the collider.
    var shape = target.shape_owner_get_owner(owner_id)
```


```csharp
    var target = (CollisionObject3D)GetCollider(); // A CollisionObject3D.
    var shapeId = GetColliderShape(); // The shape index in the collider.
    var ownerId = target.ShapeFindOwner(shapeId); // The owner ID in the collider.
    var shape = target.ShapeOwnerGetOwner(ownerId);
```




<hr class="classref-item-separator"/>

<a id="RayCast3D_method_get_collision_face_index"></a>

<!-- classref-method -->

[int](int.md) **get_collision_face_index**\ (\ ) <span class="const">const</span> [ðŸ”—](#RayCast3D_method_get_collision_face_index)

Returns the collision object's face index at the collision point, or ``-1`` if the shape intersecting the ray is not a [ConcavePolygonShape3D](ConcavePolygonShape3D.md).

<hr class="classref-item-separator"/>

<a id="RayCast3D_method_get_collision_mask_value"></a>

<!-- classref-method -->

[bool](bool.md) **get_collision_mask_value**\ (\ layer_number\: [int](int.md)\ ) <span class="const">const</span> [ðŸ”—](#RayCast3D_method_get_collision_mask_value)

Returns whether or not the specified layer of the [collision_mask](RayCast3D.md#RayCast3D_property_collision_mask) is enabled, given a `layer_number` between 1 and 32.

<hr class="classref-item-separator"/>

<a id="RayCast3D_method_get_collision_normal"></a>

<!-- classref-method -->

[Vector3](Vector3.md) **get_collision_normal**\ (\ ) <span class="const">const</span> [ðŸ”—](#RayCast3D_method_get_collision_normal)

Returns the normal of the intersecting object's shape at the collision point, or ``Vector3(0, 0, 0)`` if the ray starts inside the shape and [hit_from_inside](RayCast3D.md#RayCast3D_property_hit_from_inside) is ``true``.

\ **Note:** Check that [is_colliding()](RayCast3D.md#RayCast3D_method_is_colliding) returns ``true`` before calling this method to ensure the returned normal is valid and up-to-date.

<hr class="classref-item-separator"/>

<a id="RayCast3D_method_get_collision_point"></a>

<!-- classref-method -->

[Vector3](Vector3.md) **get_collision_point**\ (\ ) <span class="const">const</span> [ðŸ”—](#RayCast3D_method_get_collision_point)

Returns the collision point at which the ray intersects the closest object, in the global coordinate system. If [hit_from_inside](RayCast3D.md#RayCast3D_property_hit_from_inside) is ``true`` and the ray starts inside of a collision shape, this function will return the origin point of the ray.

\ **Note:** Check that [is_colliding()](RayCast3D.md#RayCast3D_method_is_colliding) returns ``true`` before calling this method to ensure the returned point is valid and up-to-date.

<hr class="classref-item-separator"/>

<a id="RayCast3D_method_is_colliding"></a>

<!-- classref-method -->

[bool](bool.md) **is_colliding**\ (\ ) <span class="const">const</span> [ðŸ”—](#RayCast3D_method_is_colliding)

Returns whether any object is intersecting with the ray's vector (considering the vector length).

<hr class="classref-item-separator"/>

<a id="RayCast3D_method_remove_exception"></a>

<!-- classref-method -->

`void` **remove_exception**\ (\ node\: [CollisionObject3D](CollisionObject3D.md)\ ) [ðŸ”—](#RayCast3D_method_remove_exception)

Removes a collision exception so the ray can report collisions with the specified `node`.

<hr class="classref-item-separator"/>

<a id="RayCast3D_method_remove_exception_rid"></a>

<!-- classref-method -->

`void` **remove_exception_rid**\ (\ rid\: [RID](RID.md)\ ) [ðŸ”—](#RayCast3D_method_remove_exception_rid)

Removes a collision exception so the ray can report collisions with the specified [RID](RID.md).

<hr class="classref-item-separator"/>

<a id="RayCast3D_method_set_collision_mask_value"></a>

<!-- classref-method -->

`void` **set_collision_mask_value**\ (\ layer_number\: [int](int.md), value\: [bool](bool.md)\ ) [ðŸ”—](#RayCast3D_method_set_collision_mask_value)

Based on `value`, enables or disables the specified layer in the [collision_mask](RayCast3D.md#RayCast3D_property_collision_mask), given a `layer_number` between 1 and 32.

