<!-- github_url: hide -->

<!-- DO NOT EDIT THIS FILE!!! -->
<!-- Generated automatically from Redot engine sources. -->
<!-- Generator: https://github.com/Redot-Engine/redot-engine/tree/master/doc/tools/make_md.py. -->
<!-- XML source: https://github.com/Redot-Engine/redot-engine/tree/master/doc/classes/RefCounted.xml. -->

<a id="RefCounted"></a>

# RefCounted

**Inherits:** [Object](Object.md)

**Inherited By:** [AESContext](AESContext.md), [AStar2D](AStar2D.md), [AStar3D](AStar3D.md), [AStarGrid2D](AStarGrid2D.md), [AudioEffectInstance](AudioEffectInstance.md), [AudioSample](AudioSample.md), [AudioSamplePlayback](AudioSamplePlayback.md), [AudioStreamPlayback](AudioStreamPlayback.md), [CameraFeed](CameraFeed.md), [CharFXTransform](CharFXTransform.md), [ConfigFile](ConfigFile.md), [Crypto](Crypto.md), [DirAccess](DirAccess.md), [DTLSServer](DTLSServer.md), [EditorContextMenuPlugin](EditorContextMenuPlugin.md), [EditorDebuggerPlugin](EditorDebuggerPlugin.md), [EditorDebuggerSession](EditorDebuggerSession.md), [EditorExportPlatform](EditorExportPlatform.md), [EditorExportPlugin](EditorExportPlugin.md), [EditorExportPreset](EditorExportPreset.md), [EditorFeatureProfile](EditorFeatureProfile.md), [EditorFileSystemImportFormatSupportQuery](EditorFileSystemImportFormatSupportQuery.md), [EditorInspectorPlugin](EditorInspectorPlugin.md), [EditorResourceConversionPlugin](EditorResourceConversionPlugin.md), [EditorResourcePreviewGenerator](EditorResourcePreviewGenerator.md), [EditorResourceTooltipPlugin](EditorResourceTooltipPlugin.md), [EditorSceneFormatImporter](EditorSceneFormatImporter.md), [EditorScenePostImport](EditorScenePostImport.md), [EditorScenePostImportPlugin](EditorScenePostImportPlugin.md), [EditorScript](EditorScript.md), [EditorTranslationParserPlugin](EditorTranslationParserPlugin.md), [EncodedObjectAsID](EncodedObjectAsID.md), [ENetConnection](ENetConnection.md), [EngineProfiler](EngineProfiler.md), [Expression](Expression.md), [FileAccess](FileAccess.md), [GLTFObjectModelProperty](GLTFObjectModelProperty.md), [HashingContext](HashingContext.md), [HMACContext](HMACContext.md), [HTTPClient](HTTPClient.md), [ImageFormatLoader](ImageFormatLoader.md), [ImageFramesFormatLoader](ImageFramesFormatLoader.md), [JavaClass](JavaClass.md), [JavaObject](JavaObject.md), [JavaScriptObject](JavaScriptObject.md), [KinematicCollision2D](KinematicCollision2D.md), [KinematicCollision3D](KinematicCollision3D.md), [Lightmapper](Lightmapper.md), [Logger](Logger.md), [MeshConvexDecompositionSettings](MeshConvexDecompositionSettings.md), [MeshDataTool](MeshDataTool.md), [MultiplayerAPI](MultiplayerAPI.md), [Mutex](Mutex.md), [NavigationPathQueryParameters2D](NavigationPathQueryParameters2D.md), [NavigationPathQueryParameters3D](NavigationPathQueryParameters3D.md), [NavigationPathQueryResult2D](NavigationPathQueryResult2D.md), [NavigationPathQueryResult3D](NavigationPathQueryResult3D.md), [Node3DGizmo](Node3DGizmo.md), [OggPacketSequencePlayback](OggPacketSequencePlayback.md), [OpenXRAPIExtension](OpenXRAPIExtension.md), [OpenXRFutureResult](OpenXRFutureResult.md), [PackedDataContainerRef](PackedDataContainerRef.md), [PacketPeer](PacketPeer.md), [PCKPacker](PCKPacker.md), [PhysicsPointQueryParameters2D](PhysicsPointQueryParameters2D.md), [PhysicsPointQueryParameters3D](PhysicsPointQueryParameters3D.md), [PhysicsRayQueryParameters2D](PhysicsRayQueryParameters2D.md), [PhysicsRayQueryParameters3D](PhysicsRayQueryParameters3D.md), [PhysicsShapeQueryParameters2D](PhysicsShapeQueryParameters2D.md), [PhysicsShapeQueryParameters3D](PhysicsShapeQueryParameters3D.md), [PhysicsTestMotionParameters2D](PhysicsTestMotionParameters2D.md), [PhysicsTestMotionParameters3D](PhysicsTestMotionParameters3D.md), [PhysicsTestMotionResult2D](PhysicsTestMotionResult2D.md), [PhysicsTestMotionResult3D](PhysicsTestMotionResult3D.md), [RandomNumberGenerator](RandomNumberGenerator.md), [RDAttachmentFormat](RDAttachmentFormat.md), [RDFramebufferPass](RDFramebufferPass.md), [RDPipelineColorBlendState](RDPipelineColorBlendState.md), [RDPipelineColorBlendStateAttachment](RDPipelineColorBlendStateAttachment.md), [RDPipelineDepthStencilState](RDPipelineDepthStencilState.md), [RDPipelineMultisampleState](RDPipelineMultisampleState.md), [RDPipelineRasterizationState](RDPipelineRasterizationState.md), [RDPipelineSpecializationConstant](RDPipelineSpecializationConstant.md), [RDSamplerState](RDSamplerState.md), [RDShaderSource](RDShaderSource.md), [RDTextureFormat](RDTextureFormat.md), [RDTextureView](RDTextureView.md), [RDUniform](RDUniform.md), [RDVertexAttribute](RDVertexAttribute.md), [RegEx](RegEx.md), [RegExMatch](RegExMatch.md), [RenderSceneBuffers](RenderSceneBuffers.md), [RenderSceneBuffersConfiguration](RenderSceneBuffersConfiguration.md), [Resource](Resource.md), [ResourceFormatLoader](ResourceFormatLoader.md), [ResourceFormatSaver](ResourceFormatSaver.md), [ResourceImporter](ResourceImporter.md), [SceneState](SceneState.md), [SceneTreeTimer](SceneTreeTimer.md), [ScriptBacktrace](ScriptBacktrace.md), [Semaphore](Semaphore.md), [SignalSmith](SignalSmith.md), [SkinReference](SkinReference.md), [StreamPeer](StreamPeer.md), [SurfaceTool](SurfaceTool.md), [TCPServer](TCPServer.md), [TextLine](TextLine.md), [TextParagraph](TextParagraph.md), [TextServer](TextServer.md), [Thread](Thread.md), [TLSOptions](TLSOptions.md), [TranslationDomain](TranslationDomain.md), [TriangleMesh](TriangleMesh.md), [Tween](Tween.md), [Tweener](Tweener.md), [UDPServer](UDPServer.md), [UPNP](UPNP.md), [UPNPDevice](UPNPDevice.md), [WeakRef](WeakRef.md), [WebRTCPeerConnection](WebRTCPeerConnection.md), [XMLParser](XMLParser.md), [XRInterface](XRInterface.md), [XRPose](XRPose.md), [XRTracker](XRTracker.md), [ZIPPacker](ZIPPacker.md), [ZIPReader](ZIPReader.md)

Base class for reference-counted objects.

<!-- classref-introduction-group -->

## Description

Base class for any object that keeps a reference count. [Resource](Resource.md) and many other helper objects inherit this class.

Unlike other [Object](Object.md) types, **RefCounted**\\ s keep an internal reference counter so that they are automatically released when no longer in use, and only then. **RefCounted**\\ s therefore do not need to be freed manually with [Object.free()](Object.md#Object_method_free).

\ **RefCounted** instances caught in a cyclic reference will **not** be freed automatically. For example, if a node holds a reference to instance ``A``, which directly or indirectly holds a reference back to ``A``, ``A``'s reference count will be 2. Destruction of the node will leave ``A`` dangling with a reference count of 1, and there will be a memory leak. To prevent this, one of the references in the cycle can be made weak with [@GlobalScope.weakref()](@GlobalScope.md#@GlobalScope_method_weakref).

In the vast majority of use cases, instantiating and using **RefCounted**-derived types is all you need to do. The methods provided in this class are only for advanced users, and can cause issues if misused.

\ **Note:** In C#, reference-counted objects will not be freed instantly after they are no longer in use. Instead, garbage collection will run periodically and will free reference-counted objects that are no longer in use. This means that unused ones will remain in memory for a while before being removed.

<!-- classref-introduction-group -->

## Tutorials

- [When and how to avoid using nodes for everything](../tutorials/best_practices/node_alternatives.md)

<!-- classref-reftable-group -->

## Methods

<table>
  <thead>
    <tr>
      <th>[int](int.md)</th>
      <th>[get_reference_count](#RefCounted_method_get_reference_count)\ (\ ) <span class="const">const</span></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>[bool](bool.md)</td>
      <td>[init_ref](#RefCounted_method_init_ref)\ (\ )</td>
    </tr>
    <tr>
      <td>[bool](bool.md)</td>
      <td>[reference](#RefCounted_method_reference)\ (\ )</td>
    </tr>
    <tr>
      <td>[bool](bool.md)</td>
      <td>[unreference](#RefCounted_method_unreference)\ (\ )</td>
    </tr>
  </tbody>
</table>

<hr class="classref-section-separator"/>

<!-- classref-descriptions-group -->

## Method Descriptions

<a id="RefCounted_method_get_reference_count"></a>

<!-- classref-method -->

[int](int.md) **get_reference_count**\ (\ ) <span class="const">const</span> [ðŸ”—](#RefCounted_method_get_reference_count)

Returns the current reference count.

<hr class="classref-item-separator"/>

<a id="RefCounted_method_init_ref"></a>

<!-- classref-method -->

[bool](bool.md) **init_ref**\ (\ ) [ðŸ”—](#RefCounted_method_init_ref)

Initializes the internal reference counter. Use this only if you really know what you are doing.

Returns whether the initialization was successful.

<hr class="classref-item-separator"/>

<a id="RefCounted_method_reference"></a>

<!-- classref-method -->

[bool](bool.md) **reference**\ (\ ) [ðŸ”—](#RefCounted_method_reference)

Increments the internal reference counter. Use this only if you really know what you are doing.

Returns ``true`` if the increment was successful, ``false`` otherwise.

<hr class="classref-item-separator"/>

<a id="RefCounted_method_unreference"></a>

<!-- classref-method -->

[bool](bool.md) **unreference**\ (\ ) [ðŸ”—](#RefCounted_method_unreference)

Decrements the internal reference counter. Use this only if you really know what you are doing.

Returns ``true`` if the object should be freed after the decrement, ``false`` otherwise.

