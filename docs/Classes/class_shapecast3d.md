<!-- github_url: hide -->

<!-- DO NOT EDIT THIS FILE!!! -->
<!-- Generated automatically from Redot engine sources. -->
<!-- Generator: https://github.com/Redot-Engine/redot-engine/tree/master/doc/tools/make_md.py. -->
<!-- XML source: https://github.com/Redot-Engine/redot-engine/tree/master/doc/classes/ShapeCast3D.xml. -->

<a id="class_ShapeCast3D"></a>

# ShapeCast3D

**Inherits:** [Node3D](class_node3d.md) **<** [Node](class_node.md) **<** [Object](class_object.md)

A 3D shape that sweeps a region of space to detect [CollisionObject3D](class_collisionobject3d.md)\ s.

<!-- classref-introduction-group -->

## Description

Shape casting allows to detect collision objects by sweeping its [shape](class_shapecast3d.md#class_ShapeCast3D_property_shape) along the cast direction determined by [target_position](class_shapecast3d.md#class_ShapeCast3D_property_target_position). This is similar to [RayCast3D](class_raycast3d.md), but it allows for sweeping a region of space, rather than just a straight line. **ShapeCast3D** can detect multiple collision objects. It is useful for things like wide laser beams or snapping a simple shape to a floor.

Immediate collision overlaps can be done with the [target_position](class_shapecast3d.md#class_ShapeCast3D_property_target_position) set to ``Vector3(0, 0, 0)`` and by calling [force_shapecast_update()](class_shapecast3d.md#class_ShapeCast3D_method_force_shapecast_update) within the same physics frame. This helps to overcome some limitations of [Area3D](class_area3d.md) when used as an instantaneous detection area, as collision information isn't immediately available to it.

\ **Note:** Shape casting is more computationally expensive than ray casting.

<!-- classref-reftable-group -->

## Properties

<table>
  <thead>
    <tr>
      <th>[bool](class_bool.md)</th>
      <th>[collide_with_areas](#class_ShapeCast3D_property_collide_with_areas)</th>
      <th>`false`</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>[bool](class_bool.md)</td>
      <td>[collide_with_bodies](#class_ShapeCast3D_property_collide_with_bodies)</td>
      <td>`true`</td>
    </tr>
    <tr>
      <td>[int](class_int.md)</td>
      <td>[collision_mask](#class_ShapeCast3D_property_collision_mask)</td>
      <td>`1`</td>
    </tr>
    <tr>
      <td>[Array](class_array.md)</td>
      <td>[collision_result](#class_ShapeCast3D_property_collision_result)</td>
      <td>`[]`</td>
    </tr>
    <tr>
      <td>[Color](class_color.md)</td>
      <td>[debug_shape_custom_color](#class_ShapeCast3D_property_debug_shape_custom_color)</td>
      <td>`Color(0, 0, 0, 1)`</td>
    </tr>
    <tr>
      <td>[bool](class_bool.md)</td>
      <td>[enabled](#class_ShapeCast3D_property_enabled)</td>
      <td>`true`</td>
    </tr>
    <tr>
      <td>[bool](class_bool.md)</td>
      <td>[exclude_parent](#class_ShapeCast3D_property_exclude_parent)</td>
      <td>`true`</td>
    </tr>
    <tr>
      <td>[float](class_float.md)</td>
      <td>[margin](#class_ShapeCast3D_property_margin)</td>
      <td>`0.0`</td>
    </tr>
    <tr>
      <td>[int](class_int.md)</td>
      <td>[max_results](#class_ShapeCast3D_property_max_results)</td>
      <td>`32`</td>
    </tr>
    <tr>
      <td>[Shape3D](class_shape3d.md)</td>
      <td>[shape](#class_ShapeCast3D_property_shape)</td>
      <td></td>
    </tr>
    <tr>
      <td>[Vector3](class_vector3.md)</td>
      <td>[target_position](#class_ShapeCast3D_property_target_position)</td>
      <td>`Vector3(0, -1, 0)`</td>
    </tr>
  </tbody>
</table>

<!-- classref-reftable-group -->

## Methods

<table>
  <thead>
    <tr>
      <th>`void`</th>
      <th>[add_exception](#class_ShapeCast3D_method_add_exception)\ (\ node\: [CollisionObject3D](class_collisionobject3d.md)\ )</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>`void`</td>
      <td>[add_exception_rid](#class_ShapeCast3D_method_add_exception_rid)\ (\ rid\: [RID](class_rid.md)\ )</td>
    </tr>
    <tr>
      <td>`void`</td>
      <td>[clear_exceptions](#class_ShapeCast3D_method_clear_exceptions)\ (\ )</td>
    </tr>
    <tr>
      <td>`void`</td>
      <td>[force_shapecast_update](#class_ShapeCast3D_method_force_shapecast_update)\ (\ )</td>
    </tr>
    <tr>
      <td>[float](class_float.md)</td>
      <td>[get_closest_collision_safe_fraction](#class_ShapeCast3D_method_get_closest_collision_safe_fraction)\ (\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[float](class_float.md)</td>
      <td>[get_closest_collision_unsafe_fraction](#class_ShapeCast3D_method_get_closest_collision_unsafe_fraction)\ (\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[Object](class_object.md)</td>
      <td>[get_collider](#class_ShapeCast3D_method_get_collider)\ (\ index\: [int](class_int.md)\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[RID](class_rid.md)</td>
      <td>[get_collider_rid](#class_ShapeCast3D_method_get_collider_rid)\ (\ index\: [int](class_int.md)\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[int](class_int.md)</td>
      <td>[get_collider_shape](#class_ShapeCast3D_method_get_collider_shape)\ (\ index\: [int](class_int.md)\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[int](class_int.md)</td>
      <td>[get_collision_count](#class_ShapeCast3D_method_get_collision_count)\ (\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[bool](class_bool.md)</td>
      <td>[get_collision_mask_value](#class_ShapeCast3D_method_get_collision_mask_value)\ (\ layer_number\: [int](class_int.md)\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[Vector3](class_vector3.md)</td>
      <td>[get_collision_normal](#class_ShapeCast3D_method_get_collision_normal)\ (\ index\: [int](class_int.md)\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[Vector3](class_vector3.md)</td>
      <td>[get_collision_point](#class_ShapeCast3D_method_get_collision_point)\ (\ index\: [int](class_int.md)\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>[bool](class_bool.md)</td>
      <td>[is_colliding](#class_ShapeCast3D_method_is_colliding)\ (\ ) <span class="const">const</span></td>
    </tr>
    <tr>
      <td>`void`</td>
      <td>[remove_exception](#class_ShapeCast3D_method_remove_exception)\ (\ node\: [CollisionObject3D](class_collisionobject3d.md)\ )</td>
    </tr>
    <tr>
      <td>`void`</td>
      <td>[remove_exception_rid](#class_ShapeCast3D_method_remove_exception_rid)\ (\ rid\: [RID](class_rid.md)\ )</td>
    </tr>
    <tr>
      <td>`void`</td>
      <td>[resource_changed](#class_ShapeCast3D_method_resource_changed)\ (\ resource\: [Resource](class_resource.md)\ )</td>
    </tr>
    <tr>
      <td>`void`</td>
      <td>[set_collision_mask_value](#class_ShapeCast3D_method_set_collision_mask_value)\ (\ layer_number\: [int](class_int.md), value\: [bool](class_bool.md)\ )</td>
    </tr>
  </tbody>
</table>

<hr class="classref-section-separator">

<!-- classref-descriptions-group -->

## Property Descriptions

<a id="class_ShapeCast3D_property_collide_with_areas"></a>

<!-- classref-property -->

[bool](class_bool.md) **collide_with_areas** = `false` [ðŸ”—](#class_ShapeCast3D_property_collide_with_areas)

<!-- classref-property-setget -->

- `void` **set_collide_with_areas**\ (\ value\: [bool](class_bool.md)\ )
- [bool](class_bool.md) **is_collide_with_areas_enabled**\ (\ )

If ``true``, collisions with [Area3D](class_area3d.md)\ s will be reported.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_property_collide_with_bodies"></a>

<!-- classref-property -->

[bool](class_bool.md) **collide_with_bodies** = `true` [ðŸ”—](#class_ShapeCast3D_property_collide_with_bodies)

<!-- classref-property-setget -->

- `void` **set_collide_with_bodies**\ (\ value\: [bool](class_bool.md)\ )
- [bool](class_bool.md) **is_collide_with_bodies_enabled**\ (\ )

If ``true``, collisions with [PhysicsBody3D](class_physicsbody3d.md)\ s will be reported.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_property_collision_mask"></a>

<!-- classref-property -->

[int](class_int.md) **collision_mask** = `1` [ðŸ”—](#class_ShapeCast3D_property_collision_mask)

<!-- classref-property-setget -->

- `void` **set_collision_mask**\ (\ value\: [int](class_int.md)\ )
- [int](class_int.md) **get_collision_mask**\ (\ )

The shape's collision mask. Only objects in at least one collision layer enabled in the mask will be detected. See [Collision layers and masks](../tutorials/physics/physics_introduction.md#collision-layers-and-masks) in the documentation for more information.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_property_collision_result"></a>

<!-- classref-property -->

[Array](class_array.md) **collision_result** = `[]` [ðŸ”—](#class_ShapeCast3D_property_collision_result)

<!-- classref-property-setget -->

- [Array](class_array.md) **get_collision_result**\ (\ )

Returns the complete collision information from the collision sweep. The data returned is the same as in the [PhysicsDirectSpaceState3D.get_rest_info()](class_physicsdirectspacestate3d.md#class_PhysicsDirectSpaceState3D_method_get_rest_info) method.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_property_debug_shape_custom_color"></a>

<!-- classref-property -->

[Color](class_color.md) **debug_shape_custom_color** = `Color(0, 0, 0, 1)` [ðŸ”—](#class_ShapeCast3D_property_debug_shape_custom_color)

<!-- classref-property-setget -->

- `void` **set_debug_shape_custom_color**\ (\ value\: [Color](class_color.md)\ )
- [Color](class_color.md) **get_debug_shape_custom_color**\ (\ )

The custom color to use to draw the shape in the editor and at run-time if **Visible Collision Shapes** is enabled in the **Debug** menu. This color will be highlighted at run-time if the **ShapeCast3D** is colliding with something.

If set to ``Color(0.0, 0.0, 0.0)`` (by default), the color set in [ProjectSettings.debug/shapes/collision/shape_color](class_projectsettings.md#class_ProjectSettings_property_debug/shapes/collision/shape_color) is used.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_property_enabled"></a>

<!-- classref-property -->

[bool](class_bool.md) **enabled** = `true` [ðŸ”—](#class_ShapeCast3D_property_enabled)

<!-- classref-property-setget -->

- `void` **set_enabled**\ (\ value\: [bool](class_bool.md)\ )
- [bool](class_bool.md) **is_enabled**\ (\ )

If ``true``, collisions will be reported.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_property_exclude_parent"></a>

<!-- classref-property -->

[bool](class_bool.md) **exclude_parent** = `true` [ðŸ”—](#class_ShapeCast3D_property_exclude_parent)

<!-- classref-property-setget -->

- `void` **set_exclude_parent_body**\ (\ value\: [bool](class_bool.md)\ )
- [bool](class_bool.md) **get_exclude_parent_body**\ (\ )

If ``true``, the parent node will be excluded from collision detection.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_property_margin"></a>

<!-- classref-property -->

[float](class_float.md) **margin** = `0.0` [ðŸ”—](#class_ShapeCast3D_property_margin)

<!-- classref-property-setget -->

- `void` **set_margin**\ (\ value\: [float](class_float.md)\ )
- [float](class_float.md) **get_margin**\ (\ )

The collision margin for the shape. A larger margin helps detecting collisions more consistently, at the cost of precision.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_property_max_results"></a>

<!-- classref-property -->

[int](class_int.md) **max_results** = `32` [ðŸ”—](#class_ShapeCast3D_property_max_results)

<!-- classref-property-setget -->

- `void` **set_max_results**\ (\ value\: [int](class_int.md)\ )
- [int](class_int.md) **get_max_results**\ (\ )

The number of intersections can be limited with this parameter, to reduce the processing time.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_property_shape"></a>

<!-- classref-property -->

[Shape3D](class_shape3d.md) **shape** [ðŸ”—](#class_ShapeCast3D_property_shape)

<!-- classref-property-setget -->

- `void` **set_shape**\ (\ value\: [Shape3D](class_shape3d.md)\ )
- [Shape3D](class_shape3d.md) **get_shape**\ (\ )

The shape to be used for collision queries.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_property_target_position"></a>

<!-- classref-property -->

[Vector3](class_vector3.md) **target_position** = `Vector3(0, -1, 0)` [ðŸ”—](#class_ShapeCast3D_property_target_position)

<!-- classref-property-setget -->

- `void` **set_target_position**\ (\ value\: [Vector3](class_vector3.md)\ )
- [Vector3](class_vector3.md) **get_target_position**\ (\ )

The shape's destination point, relative to this node's [Node3D.position](class_node3d.md#class_Node3D_property_position).

<hr class="classref-section-separator">

<!-- classref-descriptions-group -->

## Method Descriptions

<a id="class_ShapeCast3D_method_add_exception"></a>

<!-- classref-method -->

`void` **add_exception**\ (\ node\: [CollisionObject3D](class_collisionobject3d.md)\ ) [ðŸ”—](#class_ShapeCast3D_method_add_exception)

Adds a collision exception so the shape does not report collisions with the specified node.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_add_exception_rid"></a>

<!-- classref-method -->

`void` **add_exception_rid**\ (\ rid\: [RID](class_rid.md)\ ) [ðŸ”—](#class_ShapeCast3D_method_add_exception_rid)

Adds a collision exception so the shape does not report collisions with the specified [RID](class_rid.md).

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_clear_exceptions"></a>

<!-- classref-method -->

`void` **clear_exceptions**\ (\ ) [ðŸ”—](#class_ShapeCast3D_method_clear_exceptions)

Removes all collision exceptions for this shape.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_force_shapecast_update"></a>

<!-- classref-method -->

`void` **force_shapecast_update**\ (\ ) [ðŸ”—](#class_ShapeCast3D_method_force_shapecast_update)

Updates the collision information for the shape immediately, without waiting for the next ``_physics_process`` call. Use this method, for example, when the shape or its parent has changed state.

\ **Note:** Setting [enabled](class_shapecast3d.md#class_ShapeCast3D_property_enabled) to ``true`` is not required for this to work.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_get_closest_collision_safe_fraction"></a>

<!-- classref-method -->

[float](class_float.md) **get_closest_collision_safe_fraction**\ (\ ) <span class="const">const</span> [ðŸ”—](#class_ShapeCast3D_method_get_closest_collision_safe_fraction)

Returns the fraction from this cast's origin to its [target_position](class_shapecast3d.md#class_ShapeCast3D_property_target_position) of how far the shape can move without triggering a collision, as a value between ``0.0`` and ``1.0``.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_get_closest_collision_unsafe_fraction"></a>

<!-- classref-method -->

[float](class_float.md) **get_closest_collision_unsafe_fraction**\ (\ ) <span class="const">const</span> [ðŸ”—](#class_ShapeCast3D_method_get_closest_collision_unsafe_fraction)

Returns the fraction from this cast's origin to its [target_position](class_shapecast3d.md#class_ShapeCast3D_property_target_position) of how far the shape must move to trigger a collision, as a value between ``0.0`` and ``1.0``.

In ideal conditions this would be the same as [get_closest_collision_safe_fraction()](class_shapecast3d.md#class_ShapeCast3D_method_get_closest_collision_safe_fraction), however shape casting is calculated in discrete steps, so the precise point of collision can occur between two calculated positions.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_get_collider"></a>

<!-- classref-method -->

[Object](class_object.md) **get_collider**\ (\ index\: [int](class_int.md)\ ) <span class="const">const</span> [ðŸ”—](#class_ShapeCast3D_method_get_collider)

Returns the collided [Object](class_object.md) of one of the multiple collisions at `index`, or ``null`` if no object is intersecting the shape (i.e. [is_colliding()](class_shapecast3d.md#class_ShapeCast3D_method_is_colliding) returns ``false``).

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_get_collider_rid"></a>

<!-- classref-method -->

[RID](class_rid.md) **get_collider_rid**\ (\ index\: [int](class_int.md)\ ) <span class="const">const</span> [ðŸ”—](#class_ShapeCast3D_method_get_collider_rid)

Returns the [RID](class_rid.md) of the collided object of one of the multiple collisions at `index`.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_get_collider_shape"></a>

<!-- classref-method -->

[int](class_int.md) **get_collider_shape**\ (\ index\: [int](class_int.md)\ ) <span class="const">const</span> [ðŸ”—](#class_ShapeCast3D_method_get_collider_shape)

Returns the shape ID of the colliding shape of one of the multiple collisions at `index`, or ``0`` if no object is intersecting the shape (i.e. [is_colliding()](class_shapecast3d.md#class_ShapeCast3D_method_is_colliding) returns ``false``).

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_get_collision_count"></a>

<!-- classref-method -->

[int](class_int.md) **get_collision_count**\ (\ ) <span class="const">const</span> [ðŸ”—](#class_ShapeCast3D_method_get_collision_count)

The number of collisions detected at the point of impact. Use this to iterate over multiple collisions as provided by [get_collider()](class_shapecast3d.md#class_ShapeCast3D_method_get_collider), [get_collider_shape()](class_shapecast3d.md#class_ShapeCast3D_method_get_collider_shape), [get_collision_point()](class_shapecast3d.md#class_ShapeCast3D_method_get_collision_point), and [get_collision_normal()](class_shapecast3d.md#class_ShapeCast3D_method_get_collision_normal) methods.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_get_collision_mask_value"></a>

<!-- classref-method -->

[bool](class_bool.md) **get_collision_mask_value**\ (\ layer_number\: [int](class_int.md)\ ) <span class="const">const</span> [ðŸ”—](#class_ShapeCast3D_method_get_collision_mask_value)

Returns whether or not the specified layer of the [collision_mask](class_shapecast3d.md#class_ShapeCast3D_property_collision_mask) is enabled, given a `layer_number` between 1 and 32.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_get_collision_normal"></a>

<!-- classref-method -->

[Vector3](class_vector3.md) **get_collision_normal**\ (\ index\: [int](class_int.md)\ ) <span class="const">const</span> [ðŸ”—](#class_ShapeCast3D_method_get_collision_normal)

Returns the normal of one of the multiple collisions at `index` of the intersecting object.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_get_collision_point"></a>

<!-- classref-method -->

[Vector3](class_vector3.md) **get_collision_point**\ (\ index\: [int](class_int.md)\ ) <span class="const">const</span> [ðŸ”—](#class_ShapeCast3D_method_get_collision_point)

Returns the collision point of one of the multiple collisions at `index` where the shape intersects the colliding object.

\ **Note:** This point is in the **global** coordinate system.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_is_colliding"></a>

<!-- classref-method -->

[bool](class_bool.md) **is_colliding**\ (\ ) <span class="const">const</span> [ðŸ”—](#class_ShapeCast3D_method_is_colliding)

Returns whether any object is intersecting with the shape's vector (considering the vector length).

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_remove_exception"></a>

<!-- classref-method -->

`void` **remove_exception**\ (\ node\: [CollisionObject3D](class_collisionobject3d.md)\ ) [ðŸ”—](#class_ShapeCast3D_method_remove_exception)

Removes a collision exception so the shape does report collisions with the specified node.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_remove_exception_rid"></a>

<!-- classref-method -->

`void` **remove_exception_rid**\ (\ rid\: [RID](class_rid.md)\ ) [ðŸ”—](#class_ShapeCast3D_method_remove_exception_rid)

Removes a collision exception so the shape does report collisions with the specified [RID](class_rid.md).

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_resource_changed"></a>

<!-- classref-method -->

`void` **resource_changed**\ (\ resource\: [Resource](class_resource.md)\ ) [ðŸ”—](#class_ShapeCast3D_method_resource_changed)

**Deprecated:** Use [Resource.changed](class_resource.md#class_Resource_signal_changed) instead.

This method does nothing.

<hr class="classref-item-separator">

<a id="class_ShapeCast3D_method_set_collision_mask_value"></a>

<!-- classref-method -->

`void` **set_collision_mask_value**\ (\ layer_number\: [int](class_int.md), value\: [bool](class_bool.md)\ ) [ðŸ”—](#class_ShapeCast3D_method_set_collision_mask_value)

Based on `value`, enables or disables the specified layer in the [collision_mask](class_shapecast3d.md#class_ShapeCast3D_property_collision_mask), given a `layer_number` between 1 and 32.

